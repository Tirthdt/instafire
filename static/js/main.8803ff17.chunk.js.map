{"version":3,"sources":["styledComps/Header.styled.js","styledComps/Flex.styled.js","styledComps/Button.styled.js","firebase.js","styledComps/Utilities.js","context/AuthContext.js","components/Header.js","styledComps/Card.styled.js","styledComps/Inputs.styled.js","components/Login.js","components/NotFound.js","hooks/useDB.js","components/Signup.js","components/Comments.js","components/CardComp.js","components/Home.js","hooks/useLikes.js","components/Progress.js","hooks/useStorage.js","components/AddPost.js","components/Test.js","components/ErrorComp.js","guard/AuthGuard.js","styledComps/Global.js","App.js","index.js"],"names":["StyledHeader","styled","header","Flex","div","Button","button","props","secondary","ButtonMD","theme","mobile","IconButton","ButtonBlock","ButtonFAB","ButtonClose","firebaseApp","initializeApp","apiKey","authDomain","projectId","databaseURL","storageBucket","messagingSenderId","appId","firebaseAuth","getAuth","db","getFirestore","storage","getStorage","Alert","getDatabase","a","primary","p","color","bg","Image","img","Caption","ImageBlock","Loading","Comment","ProgressBar","AuthContext","React","createContext","useAuth","useContext","AuthContextProvider","children","useState","user","setUser","pending","setPending","useEffect","unsub","onAuthStateChanged","value","logout","signOut","signup","email","password","createUserWithEmailAndPassword","login","signInWithEmailAndPassword","updateDisplayName","name","updateProfile","currentUser","displayName","Provider","Header","loggedIn","setLoggenIn","navigate","useNavigate","className","onClick","then","catch","err","console","log","to","Card","CardHeader","h2","left","rm","CardFooter","CardFixed","CardBody","FormControl","Input","label","input","InputFixed","Login","setEmail","setPassword","loading","setLoading","error","setError","type","onChange","e","target","placeholder","preventDefault","data","replace","message","w700","NotFound","document","querySelector","style","display","useDB","colName","id","setData","collRef","collection","query","where","onSnapshot","snapshots","docs","forEach","doc","push","addComment","comment","userName","postId","addDoc","addData","userId","setDoc","updateLike","postLike","docRef","updateDoc","likes","merge","getData","Signup","setName","uid","Comments","setOpen","newComment","setNewComment","comments","textAlign","size","map","onKeyUp","key","CardComp","caption","imgSrc","liked","postLikes","addLike","setLikes","showComments","setShowComments","src","fill","Home","storedLikes","JSON","parse","localStorage","getItem","stringify","likesArray","index","indexOf","splice","setItem","useLikes","posts","post","includes","url","Progress","file","setUpload","collName","seterror","progress","setprogress","seturl","storageRef","ref","uploadTask","uploadBytesResumable","on","snap","bytesTransferred","totalBytes","percentage","getDownloadURL","snapshot","imageListRef","createdAt","Timestamp","now","useStorage","width","AddPost","setFile","imageSrc","setImageSrc","setCaption","begin","setBegin","upload","files","URL","createObjectURL","getElementById","click","Test","open","ErrorComp","state","hasError","errorInfo","this","Component","AuthGuard","GlobalStyles","createGlobalStyle","App","path","element","exact","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.8803ff17.chunk.js","sourcesContent":["import styled from \"styled-components\";\n\nexport const StyledHeader = styled.header`\n  width: 100%;\n  font-size: 1rem;\n  background: #1f1d36;\n  color: #fbf3e4;\n  padding: 15px 10px;\n  border-bottom: 1rem solid #b91646;\n`;\n","import styled from \"styled-components\";\n\nexport const Flex = styled.div`\n    display: flex;\n    align: items: center;\n    justify-content: space-between;\n    text-align: center;\n`;\n","import styled from \"styled-components\";\n\nexport const Button = styled.button`\n  border: none;\n  background: ${(props) => (props.secondary ? \"#1f1d36\" : \"#b91646\")};\n  color: #fff;\n  font-size: 20px;\n  font-weight: bold;\n  padding: 10px 25px;\n  border-radius: 6px;\n  cursor: pointer;\n  text-transform: uppercase;\n  transition: all 0.1s ease-in;\n\n  &:hover {\n    opacity: 0.9;\n    transform: scale(1.1);\n  }\n`;\n\nexport const ButtonMD = styled(Button)`\n  width: 70%;\n  margin: 10px auto;\n\n  &:hover {\n    opactity: 0.9;\n    transform: scale(1.05);\n  }\n\n  @media (max-width: ${({ theme }) => theme.mobile}) {\n    width: unset;\n  }\n`;\n\nexport const IconButton = styled.button`\n  font-size: 30px;\n  padding: 5px 10px;\n  background: transparent;\n  border: none;\n  transition: all 0.1s ease-in;\n  cursor: pointer;\n  margin-right: 10px;\n\n  &:hover {\n    transform: scale(1.1);\n  }\n`;\n\nexport const ButtonBlock = styled(ButtonMD)`\n  display: block;\n  @media (max-width: ${({ theme }) => theme.mobile}) {\n    width: 80%;\n  }\n`;\n\nexport const ButtonFAB = styled(Button)`\n  position: fixed;\n  bottom: 2%;\n  right: 2%;\n  height: auto;\n  border-radius: 50%;\n\n  svg {\n    text-align: center;\n    display: inline-block;\n    margin: 0 auto;\n    height: 40px;\n  }\n`;\n\nexport const ButtonClose = styled(Button)`\n  background: transparent;\n  padding: 10px 5px;\n  font-size: 18px;\n  border-radius: 50%;\n  float: right;\n`;\n","import { getStorage } from \"@firebase/storage\";\nimport { initializeApp } from \"firebase/app\";\nimport { getAuth } from \"firebase/auth\";\nimport { getFirestore } from \"firebase/firestore\";\nimport { getDatabase } from \"firebase/database\";\n\nconst firebaseApp = initializeApp({\n  apiKey: \"AIzaSyBQmhFBsAybmoMiXHCg31wC3cDuaeQutWA\",\n  authDomain: \"firegram-119b4.firebaseapp.com\",\n  projectId: \"firegram-119b4\",\n  databaseURL:\n    \"https://firegram-119b4-default-rtdb.asia-southeast1.firebasedatabase.app/\",\n  storageBucket: \"firegram-119b4.appspot.com\",\n  messagingSenderId: \"758669360874\",\n  appId: \"1:758669360874:web:26e9966d021775c7272193\",\n});\n\nconst firebaseAuth = getAuth(firebaseApp);\nconst db = getFirestore(firebaseApp);\nconst storage = getStorage(firebaseApp);\nconst realdb = getDatabase();\n\nexport { firebaseAuth, db, storage, realdb };\n","import styled from \"styled-components\";\n\nexport const Anchor = styled.a`\n  text-decoration: none;\n  color: ${(props) => (props.primary ? \"#fff\" : \"black\")};\n`;\n\nexport const Alert = styled.p`\n  text-align: center;\n  width: 80%;\n  margin: 5px auto;\n  padding: 5px;\n  border: 2px solid ${(props) => props.color};\n  border-radius: 5px;\n  color: ${(props) => props.color};\n  background: ${(props) => props.bg};\n`;\n\nexport const Image = styled.img`\n  max-height: 300px;\n  height: 300px;\n  width: auto;\n  max-width: 100%;\n  display: block;\n  object-fit: cover;\n`;\n\nexport const Caption = styled.p`\n  font-size: 18px;\n  margin: 5px 0;\n  font-weight: bold;\n`;\n\nexport const ImageBlock = styled(Image)`\n  display: block;\n  margin: 0 auto;\n  width: 100%;\n  object-fit: fill;\n`;\n\nexport const Loading = styled.div`\n  height: 100vh;\n  position: fixed;\n  top: 0;\n  left: 0;\n  z-index: 3;\n  width: 100vw;\n  background: #1f1d36;\n  color: #fff;\n  font-size: 1.5rem;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n`;\n\nexport const Comment = styled.div`\n  border-bottom: 0.5px solid #111;\n  font-size: 18px;\n  margin-bottom: 15px;\n  p.user {\n    display: inline;\n    width: 20%;\n    height: 100%;\n    font-weight: bold;\n  }\n\n  p.comment {\n    width: 80%;\n    opacity: 0.8;\n  }\n`;\n\nexport const ProgressBar = styled.div`\n  height: 5px;\n  background: #b91646;\n`;\n","import React, { useContext, useEffect, useState } from \"react\";\nimport { firebaseAuth } from \"../firebase\";\nimport {\n  createUserWithEmailAndPassword,\n  signOut,\n  signInWithEmailAndPassword,\n  onAuthStateChanged,\n  updateProfile,\n} from \"firebase/auth\";\nimport { Loading } from \"../styledComps/Utilities\";\n\nconst AuthContext = React.createContext();\n\nexport const useAuth = () => {\n  return useContext(AuthContext);\n};\n\nexport const AuthContextProvider = ({ children }) => {\n  const [user, setUser] = useState(null);\n  const [pending, setPending] = useState(true);\n\n  useEffect(() => {\n    setPending(true);\n    const unsub = onAuthStateChanged(firebaseAuth, (user) => {\n      if (user) {\n        setUser(user);\n        setPending(false);\n      } else {\n        setUser(null);\n        setPending(false);\n      }\n    });\n    return unsub();\n  }, [user]);\n\n  function SignUp(email, password) {\n    return createUserWithEmailAndPassword(firebaseAuth, email, password);\n  }\n\n  function updateDisplayName(name) {\n    return updateProfile(firebaseAuth.currentUser, { displayName: name });\n  }\n\n  function Logout() {\n    return signOut(firebaseAuth);\n  }\n\n  function Login(email, password) {\n    return signInWithEmailAndPassword(firebaseAuth, email, password);\n  }\n\n  const value = {\n    logout: Logout,\n    signup: SignUp,\n    login: Login,\n    updateDisplayName,\n    user,\n    setUser,\n  };\n  if (pending) {\n    return (\n      <Loading>\n        <h1>Loading...Please wait</h1>\n      </Loading>\n    );\n  }\n\n  return <AuthContext.Provider value={value}>{children}</AuthContext.Provider>;\n};\n","import React, { useEffect, useState } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { StyledHeader } from \"../styledComps/Header.styled\";\nimport { Flex } from \"../styledComps/Flex.styled\";\nimport { Button } from \"../styledComps/Button.styled\";\nimport { useAuth } from \"../context/AuthContext\";\n\nconst Header = () => {\n  const [loggedIn, setLoggenIn] = useState(false);\n  const { user, logout } = useAuth();\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    if (!!!user) {\n      setLoggenIn(false);\n    } else {\n      setLoggenIn(true);\n    }\n  }, [user]);\n\n  const handleClick = () => {\n    setLoggenIn(!loggedIn);\n    logout()\n      .then(() => {\n        navigate(\"/\");\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  return (\n    <>\n      <StyledHeader>\n        <Flex className=\"container\">\n          <h1>INSTAðŸ”¥</h1>\n          {loggedIn ? (\n            <Button onClick={handleClick}>Logout</Button>\n          ) : (\n            <Button>\n              <Link className=\"link-white\" to=\"/\">\n                Login\n              </Link>\n            </Button>\n          )}\n        </Flex>\n      </StyledHeader>\n    </>\n  );\n};\n\nexport default Header;\n","import styled from \"styled-components\";\n\nexport const Card = styled.div`\n  width: 30%;\n  max-height: auto;\n  margin: 3rem auto;\n  box-shadow: 0 0 0 3px #111;\n  padding-bottom: 10px;\n\n  @media (max-width: ${({ theme }) => theme.mobile}) {\n    width: 70%;\n  }\n`;\n\nexport const CardHeader = styled.h2`\n  font-size: 2rem;\n  text-transform: uppercase;\n  text-align: ${(props) => (props.left ? \"left\" : \"center\")};\n  margin-bottom: ${(props) => (props.rm ? \"0px\" : \"15px\")};\n  width: 100%;\n  background: #1f1d36;\n  color: #fff;\n  padding: 20px 10px;\n\n  & p {\n    font-size: 14px;\n    color: #e4e4e4;\n  }\n\n  & .userName {\n    opacity: 0.8;\n  }\n`;\n\nexport const CardFooter = styled.div`\n  font-size: 18px;\n  text-align: center;\n  margin: 0 auto;\n`;\n\nexport const CardFixed = styled(Card)`\n  position: fixed;\n  width: 40%;\n  height: 500px;\n  max-height: 800px;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  background: #fff;\n  z-index: 4;\n\n  @media (max-width: ${({ theme }) => theme.mobile}) {\n    width: 80%;\n  }\n`;\n\nexport const CardBody = styled.div`\n  padding: 0 15px;\n  margin-top: 20px;\n  max-height: 70%;\n  overflow-y: scroll;\n\n  &::-webkit-scrollbar {\n    width: 6px;\n  }\n\n  &::-webkit-scrollbar-track {\n    -webkit-box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.3);\n    border-radius: 6px;\n  }\n\n  &::-webkit-scrollbar-thumb {\n    border-radius: 6px;\n    -webkit-box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.5);\n  }\n`;\n","import styled from \"styled-components\";\n\nexport const FormControl = styled.div`\n  padding: 10px 5px;\n  display: flex;\n  flex-direction: column;\n`;\n\nexport const Label = styled.label`\n    display: block;\n    text-align: left:\n    font-size: 20px;\n`;\n\nexport const Input = styled.input`\n  width: 70%;\n  margin: 10px auto;\n  display: block;\n  font-size: 20px;\n  padding: 0px 5px;\n  outline: none;\n  border: none;\n  border-bottom: 1px solid;\n  margin-bottom: 10px;\n  font-family: \"Heebo\", sans-serif;\n`;\n\nexport const InputFixed = styled(Input)`\n  position: absolute;\n  bottom: 0;\n  left: 50%;\n  transform: translate(-50%, 0);\n  width: 90%;\n`;\n","import React, { useState } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { ButtonMD } from \"../styledComps/Button.styled\";\nimport { Card, CardFooter, CardHeader } from \"../styledComps/Card.styled\";\nimport { FormControl, Input } from \"../styledComps/Inputs.styled\";\nimport { Alert } from \"../styledComps/Utilities\";\nimport { useAuth } from \"../context/AuthContext\";\n\nconst Login = () => {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(\"\");\n\n  const navigate = useNavigate();\n\n  const { login, setUser } = useAuth();\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    setLoading(true);\n    setError(\"\");\n    login(email, password)\n      .then((data) => {\n        setLoading(false);\n        setError(\"\");\n        setUser(data);\n        navigate(\"/home\", { replace: true });\n      })\n      .catch((err) => {\n        console.log(err);\n        setError(err.message);\n        setLoading(false);\n      });\n  };\n\n  return (\n    <>\n      <Card>\n        <CardHeader>Login</CardHeader>\n        {error && (\n          <Alert color=\"#630000\" bg=\"#D8B6A4\">\n            {error}\n          </Alert>\n        )}\n        {loading && <Alert>Submitting</Alert>}\n        <FormControl>\n          <Input\n            type=\"text\"\n            value={email}\n            onChange={(e) => setEmail(e.target.value)}\n            placeholder=\"Enter email\"\n          ></Input>\n          <Input\n            type=\"password\"\n            value={password}\n            onChange={(e) => setPassword(e.target.value)}\n            placeholder=\"Enter password\"\n          ></Input>\n          <ButtonMD onClick={handleSubmit} type=\"submit\" w700>\n            Login\n          </ButtonMD>\n        </FormControl>\n        <CardFooter>\n          <p>\n            New here ? <Link to=\"/signup\">Sign Up</Link>\n          </p>\n        </CardFooter>\n      </Card>\n      )\n    </>\n  );\n};\n\nexport default Login;\n","import React, { useEffect } from \"react\";\n\nconst NotFound = () => {\n  useEffect(() => {\n    document.querySelector(\"header\").style.display = \"none\";\n\n    return () => {\n      document.querySelector(\"header\").style.display = \"block\";\n    };\n  });\n  return <main className=\"container-max\">404, Not Found</main>;\n};\n\nexport default NotFound;\n","import {\n  doc,\n  setDoc,\n  collection,\n  onSnapshot,\n  query,\n  where,\n  addDoc,\n  updateDoc,\n} from \"firebase/firestore\";\nimport { useEffect, useState } from \"react\";\nimport { db } from \"../firebase\";\n\nexport const useDB = (colName, id) => {\n  const [loading, setLoading] = useState(true);\n  const [data, setData] = useState([]);\n\n  useEffect(() => {\n    let collRef = collection(db, colName);\n    if (id) {\n      collRef = query(collRef, where(\"postId\", \"==\", id));\n    }\n    setLoading(true);\n\n    onSnapshot(\n      collRef,\n      (snapshots) => {\n        let data = [];\n        snapshots.docs.forEach((doc) => {\n          data.push({ ...doc.data(), id: doc.id });\n        });\n\n        setData([...data]);\n        setLoading(false);\n      },\n      (err) => {\n        setLoading(false);\n        setData([]);\n      }\n    );\n  }, [colName, id]);\n\n  const getData = () => {\n    return [data, loading];\n  };\n\n  const addComment = async (comment, userName, postId) => {\n    console.log(comment, userName, postId, colName);\n    try {\n      await addDoc(collection(db, colName), { comment, userName, postId });\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const addData = async (name, userId = \"\") => {\n    console.log(colName, userId);\n    try {\n      await setDoc(doc(db, colName, userId), { name });\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const updateLike = async (postLike, postId, type) => {\n    try {\n      const docRef = doc(db, \"posts\", postId);\n      console.log(type, postLike, postId);\n      await updateDoc(\n        docRef,\n        { likes: postLike + (type === \"decrement\" ? -1 : 1) },\n        { merge: true }\n      );\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  return { addData, getData, updateLike, addComment };\n};\n","import React, { useState } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { useAuth } from \"../context/AuthContext\";\nimport { useDB } from \"../hooks/useDB\";\nimport { ButtonMD } from \"../styledComps/Button.styled\";\nimport { Card, CardFooter, CardHeader } from \"../styledComps/Card.styled\";\nimport { Input, FormControl } from \"../styledComps/Inputs.styled\";\nimport { Alert } from \"../styledComps/Utilities\";\n\nconst Signup = () => {\n  const [name, setName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  const [error, setError] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n\n  const { addData } = useDB(\"Users\");\n\n  const navigate = useNavigate();\n\n  const { signup, setUser, updateDisplayName } = useAuth();\n\n  const handleClick = (e) => {\n    e.preventDefault();\n    setLoading(true);\n    signup(email, password)\n      .then((data) => {\n        addData(name, data.user.uid);\n        return updateDisplayName(name);\n      })\n      .then((data) => {\n        setError(\"\");\n        setLoading(false);\n        setUser(data);\n        setName(\"\");\n        setEmail(\"\");\n        setPassword(\"\");\n\n        navigate(\"/home\");\n      })\n      .catch((err) => {\n        setError(err.message);\n        setLoading(false);\n      });\n  };\n\n  return (\n    <Card>\n      <CardHeader>Signup</CardHeader>\n      {error && (\n        <Alert color=\"#630000\" bg=\"#D8B6A4\">\n          {error}\n        </Alert>\n      )}\n      {loading && <Alert>Submitting</Alert>}\n      <FormControl>\n        <Input\n          type=\"text\"\n          value={name}\n          onChange={(e) => setName(e.target.value)}\n          placeholder=\"Enter Name\"\n        ></Input>\n        <Input\n          type=\"email\"\n          value={email}\n          onChange={(e) => setEmail(e.target.value)}\n          placeholder=\"Enter Email\"\n        ></Input>\n        <Input\n          type=\"password\"\n          value={password}\n          onChange={(e) => setPassword(e.target.value)}\n          placeholder=\"Enter Password\"\n        ></Input>\n        <ButtonMD type=\"submit\" onClick={handleClick}>\n          SignUp\n        </ButtonMD>\n      </FormControl>\n      <CardFooter>\n        Already a member ? <Link to=\"/\">Login</Link>\n      </CardFooter>\n    </Card>\n  );\n};\n\nexport default Signup;\n","import React, { useState } from \"react\";\nimport { useAuth } from \"../context/AuthContext\";\nimport { ButtonClose } from \"../styledComps/Button.styled\";\nimport { MdOutlineClose } from \"react-icons/md\";\nimport { CardFixed, CardHeader, CardBody } from \"../styledComps/Card.styled\";\nimport { useDB } from \"../hooks/useDB\";\nimport { Comment } from \"../styledComps/Utilities\";\nimport { InputFixed } from \"../styledComps/Inputs.styled\";\n\nconst Comments = ({ setOpen, id: postId }) => {\n  const [newComment, setNewComment] = useState(\"\");\n  const { getData, addComment } = useDB(\"comments\", postId);\n  const [comments, loading] = getData();\n\n  const {\n    user: { displayName },\n  } = useAuth();\n\n  const addNewComment = (e) => {\n    if (e.key === \"Enter\") {\n      addComment(newComment, displayName, postId);\n      setNewComment(\"\");\n    }\n  };\n\n  return (\n    <>\n      <CardFixed>\n        {loading ? (\n          <h2 style={{ textAlign: \"center\" }}>Fetching latest comments...</h2>\n        ) : (\n          <>\n            <CardHeader>\n              Comments\n              <ButtonClose onClick={(e) => setOpen(false)}>\n                <MdOutlineClose size={\"20px\"} />\n              </ButtonClose>\n            </CardHeader>\n            <CardBody>\n              {comments.map((comment) => {\n                return (\n                  <Comment key={comment.id}>\n                    <p className=\"user\">Tirth Trivedi</p>\n                    <p className=\"comment\">{comment.comment}</p>\n                  </Comment>\n                );\n              })}\n            </CardBody>\n            <InputFixed\n              onKeyUp={addNewComment}\n              type=\"text\"\n              placeholder=\"Enter comment\"\n              value={newComment}\n              onChange={(e) => setNewComment(e.target.value)}\n            ></InputFixed>\n          </>\n        )}\n      </CardFixed>\n    </>\n  );\n};\n\nexport default Comments;\n","import React, { useEffect, useState } from \"react\";\nimport { Card, CardFooter, CardHeader } from \"../styledComps/Card.styled\";\nimport { FaRegCommentAlt } from \"react-icons/fa\";\nimport { ImageBlock } from \"../styledComps/Utilities\";\nimport { FaUser } from \"react-icons/fa\";\nimport { BsHeart, BsHeartFill } from \"react-icons/bs\";\nimport { IconButton } from \"../styledComps/Button.styled\";\nimport { Caption } from \"../styledComps/Utilities\";\nimport { useDB } from \"../hooks/useDB\";\nimport Comments from \"./Comments\";\n\nconst CardComp = ({\n  postId,\n  user,\n  caption,\n  imgSrc,\n  liked,\n  postLikes,\n  addLike,\n}) => {\n  const [likes, setLikes] = useState(0);\n  const [showComments, setShowComments] = useState(false);\n\n  const { updateLike } = useDB(\"posts\");\n  console.log(postLikes, postId);\n\n  useEffect(() => {\n    if (postLikes >= 0) {\n      setLikes(postLikes);\n    }\n  }, [postLikes]);\n\n  return (\n    <>\n      {showComments && <Comments id={postId} setOpen={setShowComments} />}\n      <Card>\n        <CardHeader left={true} rm={true}>\n          <FaUser />\n          <span className=\"userName\">{user}</span>\n        </CardHeader>\n        <ImageBlock src={imgSrc ? imgSrc : \"https://loremflickr.com/640/360\"} />\n        <Caption>{caption}</Caption>\n        <CardFooter>\n          <IconButton\n            onClick={() => {\n              addLike(postId, liked ? \"remove\" : \"add\");\n              updateLike(likes, postId, liked ? \"decrement\" : \"increment\");\n            }}\n          >\n            {liked ? <BsHeartFill fill={\"red\"} /> : <BsHeart />}\n          </IconButton>\n          {likes} likes\n          <IconButton onClick={(e) => setShowComments(true)}>\n            <FaRegCommentAlt />\n          </IconButton>\n        </CardFooter>\n      </Card>\n    </>\n  );\n};\n\nexport default CardComp;\n","import React from \"react\";\nimport CardComp from \"./CardComp\";\nimport { useNavigate } from \"react-router-dom\";\nimport { IoMdAdd } from \"react-icons/io\";\nimport { Loading } from \"../styledComps/Utilities\";\nimport { useDB } from \"../hooks/useDB\";\nimport { useLikes } from \"../hooks/useLikes\";\nimport { useAuth } from \"../context/AuthContext\";\nimport { ButtonFAB } from \"../styledComps/Button.styled\";\n\nconst Home = () => {\n  const {\n    user: { uid },\n  } = useAuth();\n  const { getData } = useDB(\"posts\");\n  const { likes, addLike } = useLikes(uid);\n  const [posts, loading] = getData();\n\n  const navigate = useNavigate();\n\n  return (\n    <>\n      {loading ? (\n        <Loading>\n          <h1> Fetching Latest Posts...</h1>\n        </Loading>\n      ) : (\n        <>\n          {posts.map((post) => (\n            <CardComp\n              liked={likes.includes(post.id)}\n              addLike={addLike}\n              key={post.id}\n              postId={post.id}\n              user={post.userName}\n              caption={post.caption}\n              imgSrc={post.url}\n              postLikes={post.likes}\n            />\n          ))}\n          <ButtonFAB onClick={(e) => navigate(\"/addPost\")}>\n            <IoMdAdd />\n          </ButtonFAB>\n        </>\n      )}\n    </>\n  );\n};\n\nexport default Home;\n","// import { realdb } from \"../firebase\";\n// import { ref, set, push } from \"firebase/database\";\nimport { useEffect, useState } from \"react\";\n\nexport const useLikes = (userId) => {\n  const [likes, setLikes] = useState(() => {\n    let storedLikes = JSON.parse(localStorage.getItem(\"likes\"));\n    if (\n      JSON.stringify(storedLikes) === JSON.stringify({}) ||\n      storedLikes === null\n    ) {\n      return [];\n    } else {\n      return storedLikes;\n    }\n  });\n\n  useEffect(() => {\n    // const starCountRef = ref(realdb, `likes/${userId}`);\n    // onValue(starCountRef, (snapshot) => {\n    //   const data = snapshot.val();\n    //   const userLikes = Object.values(data).map((like) => like.postId);\n    //   console.log(userLikes);\n    //   setLikes((prev) => [...userLikes]);\n    // });\n    console.log(\"likes hook\");\n  }, []);\n\n  const addLike = (postId, type) => {\n    let likesArray = likes;\n    if (type === \"remove\") {\n      const index = likesArray.indexOf(postId);\n      likesArray.splice(index, 1);\n    } else {\n      likesArray.push(postId);\n    }\n    setLikes(likesArray);\n    localStorage.setItem(\"likes\", JSON.stringify(likesArray));\n  };\n\n  return { likes, addLike };\n};\n","import { useEffect } from \"react\";\nimport { ProgressBar } from \"../styledComps/Utilities\";\nimport { useStorage } from \"../hooks/useStorage\";\n\nconst Progress = ({ file, userId, caption, setUpload, userName }) => {\n  const { url, progress } = useStorage(\n    file,\n    \"posts\",\n    userId,\n    caption,\n    userName\n  );\n\n  useEffect(() => {\n    if (url) {\n      setUpload(\"completed\");\n    }\n  }, [url, setUpload]);\n\n  return <ProgressBar style={{ width: progress + \"%\" }} />;\n};\n\nexport default Progress;\n","import { useState, useEffect } from \"react\";\nimport { storage, db } from \"../firebase\";\nimport { ref, uploadBytesResumable, getDownloadURL } from \"firebase/storage\";\nimport { collection, doc, setDoc, Timestamp } from \"firebase/firestore\";\n\nexport const useStorage = (file, collName, userId, caption, userName) => {\n  const [error, seterror] = useState(null);\n  const [progress, setprogress] = useState(null);\n  const [url, seturl] = useState(null);\n\n  useEffect(() => {\n    console.log(file.name);\n\n    const storageRef = ref(storage, \"images/\" + file.name);\n\n    const uploadTask = uploadBytesResumable(storageRef, file);\n    uploadTask.on(\n      \"state_changed\",\n      (snap) => {\n        console.log(snap.bytesTransferred, snap.totalBytes);\n        const percentage = (snap.bytesTransferred / snap.totalBytes) * 100;\n        setprogress(percentage);\n      },\n      (err) => {\n        seterror(err);\n      },\n      async () => {\n        const url = await getDownloadURL(uploadTask.snapshot.ref);\n        seturl(url);\n        setprogress(0);\n        const imageListRef = doc(collection(db, collName));\n        await setDoc(imageListRef, {\n          url,\n          userId,\n          caption,\n          userName: userName ? userName : \"Anonymous\",\n          createdAt: Timestamp.now(),\n        });\n      }\n    );\n  }, [file, collName, userId, caption, userName]);\n\n  return { progress, url, error };\n};\n","import React, { useEffect, useState } from \"react\";\nimport { useAuth } from \"../context/AuthContext\";\nimport { ImageBlock } from \"../styledComps/Utilities\";\nimport { ButtonBlock } from \"../styledComps/Button.styled\";\nimport { Input } from \"../styledComps/Inputs.styled\";\nimport { Card, CardHeader } from \"../styledComps/Card.styled\";\nimport { useNavigate } from \"react-router-dom\";\nimport Progress from \"./Progress\";\n\nconst AddPost = () => {\n  const [file, setFile] = useState(null);\n  const [imageSrc, setImageSrc] = useState(null);\n  const [caption, setCaption] = useState(\"\");\n  const [begin, setBegin] = useState(false);\n  const [upload, setUpload] = useState(\"\");\n\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    if (upload === \"completed\") {\n      setFile(null);\n      setBegin(false);\n      navigate(\"/home\");\n    }\n  }, [upload, navigate]);\n\n  const {\n    user: { uid, displayName },\n  } = useAuth();\n\n  const changeSelection = (e) => {\n    console.log(\"change\");\n    setFile(e.target.files[0]);\n    setImageSrc(URL.createObjectURL(e.target.files[0]));\n  };\n\n  const addPost = (e) => {\n    setBegin(true);\n  };\n\n  return (\n    <>\n      <Card>\n        {file && begin && (\n          <Progress\n            file={file}\n            setFile={setFile}\n            caption={caption}\n            userId={uid}\n            userName={displayName}\n            setUpload={setUpload}\n          />\n        )}\n        <CardHeader rm={true}>Add Post</CardHeader>\n        {imageSrc && <ImageBlock src={imageSrc} />}\n\n        <input\n          type=\"file\"\n          name=\"image\"\n          id=\"file\"\n          style={{ display: \"none\" }}\n          onChange={changeSelection}\n        />\n        {imageSrc && (\n          <Input\n            value={caption}\n            onChange={(e) => setCaption(e.target.value)}\n            type=\"text\"\n            placeholder=\"Enter Caption\"\n          />\n        )}\n        <ButtonBlock\n          onClick={(e) => {\n            document.getElementById(\"file\").click();\n          }}\n        >\n          {imageSrc ? \"Change File\" : \"Choose File\"}\n        </ButtonBlock>\n        {imageSrc && (\n          <ButtonBlock secondary onClick={addPost}>\n            Add Post\n          </ButtonBlock>\n        )}\n      </Card>\n    </>\n  );\n};\n\nexport default AddPost;\n","import React from \"react\";\nimport { useState } from \"react/cjs/react.development\";\nimport { Button } from \"../styledComps/Button.styled\";\nimport Comments from \"./Comments\";\n\nconst Test = () => {\n  const [open, setOpen] = useState(false);\n  return (\n    <>\n      <Button onClick={(e) => setOpen(true)}>Open Comments</Button>\n      {open && <Comments setOpen={setOpen} id={\"DzLyux31eR52SqJcHSUg\"} />}\n    </>\n  );\n};\n\nexport default Test;\n","import React, { Component } from \"react\";\nimport { Alert } from \"../styledComps/Utilities\";\n\nclass ErrorComp extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { hasError: false };\n  }\n\n  static getDerivedStateFromError(error) {\n    return { hasError: true };\n  }\n\n  componentDidCatch(error, errorInfo) {\n    console.log(error, errorInfo);\n  }\n\n  render() {\n    if (this.state.hasError) {\n      return <Alert>Some error has occured. Please try again</Alert>;\n    }\n    return this.props.children;\n  }\n}\n\nexport default ErrorComp;\n","import React from \"react\";\nimport { Navigate } from \"react-router-dom\";\nimport { useAuth } from \"../context/AuthContext\";\n\nconst AuthGuard = ({ children }) => {\n  let { user } = useAuth();\n\n  if (!!!user) {\n    return <Navigate to=\"/\" />;\n  }\n\n  return children;\n};\n\nexport default AuthGuard;\n","import { createGlobalStyle } from \"styled-components\";\n\nexport const GlobalStyles = createGlobalStyle`\n    @import url(\"https://fonts.googleapis.com/css2?family=Heebo&display=swap\");\n\n    * {\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n    }\n\n    body {\n        font-family: \"Heebo\", sans-serif;\n    }\n\n    .container{\n        max-width: 60%;\n        width: 60%;\n        padding: 10px 15px;\n        margin: 0 auto;\n    }\n\n    .container-max{\n        height: 100vh;\n        width: 100vw;\n        font-size: 3rem;\n        text-align: center;\n        background: #1f1d36;\n        color: #fff;\n        padding-top: 3rem;\n        text-transform: uppercase;\n    }\n\n    a{\n        text-decoration: none;\n        color: black;\n    }\n\n    .link-white{\n        color: #fff;\n    }\n\n    @media(max-width: ${({ theme }) => theme.mobile}){\n        .container{\n            width: unset;\n            max-width: unset;\n        }\n    }\n`;\n","import Header from \"./components/Header\";\nimport Login from \"./components/Login\";\nimport NotFound from \"./components/NotFound\";\nimport Signup from \"./components/Signup\";\nimport Home from \"./components/Home\";\nimport AddPost from \"./components/AddPost\";\nimport Test from \"./components/Test\";\nimport ErrorComp from \"./components/ErrorComp\";\nimport AuthGuard from \"./guard/AuthGuard\";\nimport { AuthContextProvider } from \"./context/AuthContext\";\nimport { GlobalStyles } from \"./styledComps/Global\";\nimport { ThemeProvider } from \"styled-components\";\nimport { Route, Routes } from \"react-router-dom\";\nimport Comments from \"./components/Comments\";\n\nconst theme = {\n  mobile: \"768px\",\n};\n\nfunction App() {\n  return (\n    <>\n      <AuthContextProvider>\n        <ThemeProvider theme={theme}>\n          <GlobalStyles />\n          <Header />\n          <ErrorComp>\n            <Routes>\n              <Route path=\"\" element={<Login />} exact />\n              <Route exact path=\"/signup\" element={<Signup />} />\n              <Route\n                path=\"/home\"\n                exact\n                element={\n                  <AuthGuard>\n                    <Home />\n                  </AuthGuard>\n                }\n              />\n              <Route\n                path=\"/addPost\"\n                element={\n                  <AuthGuard>\n                    <AddPost />\n                  </AuthGuard>\n                }\n              />\n              <Route path=\"/test\" element={<Test />} />\n              <Route path=\"/comment\" element={<Comments />} />\n              <Route path=\"*\" element={<NotFound />} />\n            </Routes>\n          </ErrorComp>\n        </ThemeProvider>\n      </AuthContextProvider>\n    </>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport { BrowserRouter } from \"react-router-dom\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}